[pytest]
# Pytest configuration for CDK project

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Default options
addopts =
    # Show verbose output for failures
    --tb=short
    # Show summary of all test outcomes
    -ra
    # Warnings as errors (optional, comment out if too strict)
    # -W error

# Test paths
testpaths = tests

# Markers for categorizing tests
markers =
    unit: Lambda function unit tests (fast, no AWS)
    cdk: CDK infrastructure tests (fast, no AWS)
    integration: Integration tests (slow, deploys to AWS, costs money)
    slow: Slow running tests

# Ignore patterns
norecursedirs = .venv .git cdk.out __pycache__ .pytest_cache

# Console output options
console_output_style = progress

# Coverage settings (when using --cov)
[coverage:run]
source = lambdas
omit =
    */tests/*
    */.venv/*
    */cdk.out/*

[coverage:report]
precision = 2
show_missing = True
skip_covered = False
